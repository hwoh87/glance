> [!TIP] ğŸ—£ï¸ í•µì‹¬ë‚´ìš©
Jetpack GlanceëŠ” Jetpack Compose ìŠ¤íƒ€ì¼ë¡œ Android ìœ„ì ¯ì„ ê°œë°œí•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì„ ì–¸í˜• UIë¡œ ìœ„ì ¯ì„ ë” ì‰½ê²Œ ë§Œë“¤ì–´ë³´ì„¸ìš”.
>

## 1. Glanceë€?

Jetpack GlanceëŠ” Android í™ˆ í™”ë©´ ìœ„ì ¯ì„ **Compose ìŠ¤íƒ€ì¼ì˜ ì„ ì–¸í˜• DSL**ë¡œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

### 1.1 í•µì‹¬ íŠ¹ì§•
- **ì„ ì–¸í˜• UI**: XMLì´ ì•„ë‹Œ Kotlin ì½”ë“œë¡œ UI ì‘ì„±
- **RemoteViews ì¶”ìƒí™”**: ë³µì¡í•œ RemoteViews APIë¥¼ Compose ìŠ¤íƒ€ì¼ë¡œ ê°„ì†Œí™”
- **DataStore í†µí•©**: PreferencesGlanceStateDefinitionìœ¼ë¡œ ì‰¬ìš´ ìƒíƒœ ê´€ë¦¬
- **Material3 ì§€ì›**: ì¼ê´€ëœ ë””ìì¸ ì‹œìŠ¤í…œ

> [!NOTE]
> **ì„ ì–¸í˜• UI**ëŠ” Glanceì˜ í•µì‹¬ íŠ¹ì§•ì…ë‹ˆë‹¤. ì „í†µì ì¸ ìœ„ì ¯ ê°œë°œì—ì„œëŠ” XMLë¡œ ë ˆì´ì•„ì›ƒì„ ì •ì˜í•˜ê³  RemoteViews APIë¡œ ê° ìš”ì†Œë¥¼ ê°œë³„ì ìœ¼ë¡œ ì¡°ì‘í•´ì•¼ í–ˆì§€ë§Œ, Glanceì—ì„œëŠ” Composeì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ Kotlin ì½”ë“œë¡œ ì§ì ‘ UIë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> **RemoteViews ì¶”ìƒí™”**ë¥¼ í†µí•´ ê°œë°œìëŠ” ë³µì¡í•œ RemoteViews APIë¥¼ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤. Glanceê°€ ì„ ì–¸í˜• DSLì„ ë‚´ë¶€ì ìœ¼ë¡œ RemoteViewsë¡œ ìë™ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤.
>
> **DataStore í†µí•©**ì€ ìœ„ì ¯ ìƒíƒœ ê´€ë¦¬ë¥¼ í¬ê²Œ ê°„ì†Œí™”í•©ë‹ˆë‹¤. SharedPreferencesë¥¼ ìˆ˜ë™ìœ¼ë¡œ ê´€ë¦¬í•˜ë˜ ì „í†µì ì¸ ë°©ì‹ê³¼ ë‹¬ë¦¬, StateDefinitionì„ ì§€ì •í•˜ê¸°ë§Œ í•˜ë©´ ê° ìœ„ì ¯ ì¸ìŠ¤í„´ìŠ¤ë³„ë¡œ ìƒíƒœê°€ ìë™ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ ê´€ë¦¬ë©ë‹ˆë‹¤.

### 1.2 ì „í†µ ìœ„ì ¯ê³¼ì˜ ì°¨ì´

| í•­ëª©    | ì „í†µ ìœ„ì ¯                     | Glance ìœ„ì ¯                                                                                     |
| ----- | ------------------------- | --------------------------------------------------------------------------------------------- |
| UI ì‘ì„± | XML + RemoteViews         | Compose DSL                                                                                   |
| ìƒíƒœ ê´€ë¦¬ | ì§ì ‘ êµ¬í˜„ (SharedPreferences) | DataStore ê¸°ë°˜ StateDefinition â†’ **[10. State ê´€ë¦¬â­](10.%20State%20ê´€ë¦¬â­.md)** ì°¸ê³                    |
| ì—…ë°ì´íŠ¸  | onUpdate() ì½œë°±             | update() / updateAll() â†’ **[5. ìƒëª…ì£¼ê¸° & ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°](5.%20Glance%20ìƒëª…ì£¼ê¸°%20&%20ì—…ë°ì´íŠ¸%20íŠ¸ë¦¬ê±°â­.md)** ì°¸ê³  |
| ê°œë°œ ê²½í—˜ | ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ë§ìŒ                | ê°„ê²°í•˜ê³  ì§ê´€ì                                                                                       |
|       |                           |                                                                                               |

**[ìŠ¤í¬ë¦°ìƒ· ì¶”ì²œ]** ì „í†µ ìœ„ì ¯ ì½”ë“œ vs Glance ìœ„ì ¯ ì½”ë“œ ë¹„êµ

---

## 2. Glance ìœ„ì ¯ êµ¬ì¡°

```
ğŸ“¦ Glance ìœ„ì ¯ êµ¬ì„±ìš”ì†Œ
â”œâ”€ ğŸ“¡ GlanceAppWidgetReceiver â†’ [2. GlanceAppWidgetReceiver](2.%20GlanceAppWidgetReceiver.md)
â”‚   â””â”€ ì‹œìŠ¤í…œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìˆ˜ì‹  (ì§„ì…ì )
â”‚
â”œâ”€ ğŸ§© GlanceAppWidget â†’ [4. GlanceAppWidget](4.%20GlanceAppWidget.md)
â”‚   â”œâ”€ stateDefinition â†’ [10. State ê´€ë¦¬](10.%20State%20ê´€ë¦¬.md)
â”‚   â”œâ”€ sizeMode â†’ [7. SizeMode](7.%20SizeMode.md)
â”‚   â””â”€ provideGlance() (UI ì œê³µ)
â”‚
â”œâ”€ ğŸ¨ Composable UI â†’ [6. UI ì‘ì„± ê·œì¹™](6.%20UI%20ì‘ì„±%20ê·œì¹™%20ë°%20ì œì•½ì‚¬í•­.md)
â”‚   â”œâ”€ Column, Row, Box
â”‚   â”œâ”€ Text, Image, Button
â”‚   â””â”€ currentState() (ìƒíƒœ ì½ê¸°)
â”‚
â””â”€ ğŸ”„ ActionCallback â†’ [8. Action ì²˜ë¦¬ ë°©ì‹](8.%20Action(ì´ë²¤íŠ¸)%20ì²˜ë¦¬%20ë°©ì‹.md)
    â””â”€ ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì²˜ë¦¬
```

> [!NOTE]
> Glance ìœ„ì ¯ì€ 4ê°€ì§€ í•µì‹¬ ìš”ì†Œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:
>
> 1. **GlanceAppWidgetReceiver**: ì‹œìŠ¤í…œ ì§„ì…ì ìœ¼ë¡œ, ëŸ°ì²˜ë‚˜ OSì—ì„œ ì „ì†¡í•˜ëŠ” ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ì—¬ ìœ„ì ¯ì„ í™œì„±í™”í•©ë‹ˆë‹¤.
>
> 2. **GlanceAppWidget**: ìœ„ì ¯ì˜ í•µì‹¬ í´ë˜ìŠ¤ë¡œ, ìƒíƒœ ê´€ë¦¬ ë°©ì‹(`stateDefinition`), í¬ê¸° ëŒ€ì‘ ì „ëµ(`sizeMode`), UI ì •ì˜(`provideGlance`)ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.
>
> 3. **Composable UI**: Compose ìŠ¤íƒ€ì¼ì˜ ì„ ì–¸í˜• UIë¡œ, `Column`, `Row`, `Text`, `Button` ë“±ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë©°, `currentState()`ë¥¼ í†µí•´ ìƒíƒœë¥¼ ì½ì–´ì˜µë‹ˆë‹¤.
>
> 4. **ActionCallback**: ì‚¬ìš©ì ì¸í„°ë™ì…˜(ë²„íŠ¼ í´ë¦­ ë“±)ì„ ì²˜ë¦¬í•˜ë©°, ì´ë¥¼ í†µí•´ ìƒíƒœë¥¼ ë³€ê²½í•˜ê³  ìœ„ì ¯ UIë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

---

## 3. ìµœì†Œ êµ¬í˜„ ì˜ˆì œ

```kotlin
// 1. Receiver ì •ì˜
class SimpleWidgetReceiver : GlanceAppWidgetReceiver() {
    override val glanceAppWidget: GlanceAppWidget = SimpleWidget()
}

// 2. Widget êµ¬í˜„
class SimpleWidget : GlanceAppWidget() {
    override suspend fun provideGlance(context: Context, id: GlanceId) {
        provideContent {
            Column(
                modifier = GlanceModifier
                    .fillMaxSize()
                    .padding(16.dp)
                    .background(Color.White),
                verticalAlignment = Alignment.CenterVertically,
                horizontalAlignment = Alignment.CenterHorizontally
            ) {
                Text(
                    text = "Hello, Glance!",
                    style = TextStyle(fontSize = 20.sp, fontWeight = FontWeight.Bold)
                )
            }
        }
    }
}
```

```xml
<!-- 3. AndroidManifest.xml ë“±ë¡ -->
<receiver
    android:name=".SimpleWidgetReceiver"
    android:exported="true">
    <intent-filter>
        <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
    </intent-filter>
    <meta-data
        android:name="android.appwidget.provider"
        android:resource="@xml/simple_widget_info" />
</receiver>
```

```xml
<!-- 4. res/xml/simple_widget_info.xml -->
<appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    android:initialLayout="@layout/placeholder"
    android:minWidth="180dp"
    android:minHeight="110dp"
    android:resizeMode="horizontal|vertical"
    android:widgetCategory="home_screen" />
```

```xml
<!-- 5. res/layout/placeholder.xml -->
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:text="Loading..."
    android:gravity="center"
    android:background="#FFFFFF" />
```

**[ìŠ¤í¬ë¦°ìƒ· ì¶”ì²œ]** í™ˆ í™”ë©´ì— í‘œì‹œëœ "Hello, Glance!" ìœ„ì ¯

> [!NOTE]
> ì´ ìµœì†Œ êµ¬í˜„ ì˜ˆì œëŠ” Glance ìœ„ì ¯ ê°œë°œì˜ ê°„ê²°í•¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤:
>
> 1. **Receiver ì •ì˜**: `GlanceAppWidgetReceiver`ë¥¼ ìƒì†í•˜ê³  ìœ„ì ¯ í´ë˜ìŠ¤ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.
>
> 2. **Widget êµ¬í˜„**: `provideContent` ë¸”ë¡ ë‚´ì—ì„œ Compose ìŠ¤íƒ€ì¼ë¡œ UIë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤. `Column`ìœ¼ë¡œ ë ˆì´ì•„ì›ƒì„ êµ¬ì„±í•˜ê³  `Text`ë¡œ ë‚´ìš©ì„ í‘œì‹œí•©ë‹ˆë‹¤.
>
> 3. **Manifest ë“±ë¡**: ì¼ë°˜ `BroadcastReceiver`ì™€ ë™ì¼í•˜ê²Œ ë“±ë¡í•˜ë©°, `AppWidgetProviderInfo` XMLì„ ë©”íƒ€ë°ì´í„°ë¡œ ì—°ê²°í•©ë‹ˆë‹¤.
>
> 4. **ProviderInfo XML**: ìœ„ì ¯ì˜ ê¸°ë³¸ ì •ë³´(í¬ê¸°, ë¦¬ì‚¬ì´ì¦ˆ ëª¨ë“œ, ì¹´í…Œê³ ë¦¬)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. `initialLayout`ì€ ë¡œë”© ì¤‘ í‘œì‹œë  í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
>
> 5. **í”Œë ˆì´ìŠ¤í™€ë” ë ˆì´ì•„ì›ƒ**: ìœ„ì ¯ì´ ì™„ì „íˆ ë¡œë“œë˜ê¸° ì „ ì„ì‹œë¡œ í‘œì‹œë˜ëŠ” ê°„ë‹¨í•œ ë ˆì´ì•„ì›ƒì…ë‹ˆë‹¤. "Loading..." í…ìŠ¤íŠ¸ ì •ë„ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤.
>
> ì´ 5ê°€ì§€ êµ¬ì„±ìš”ì†Œë§Œìœ¼ë¡œ ê¸°ë³¸ì ì¸ Glance ìœ„ì ¯ì„ ì™„ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---
