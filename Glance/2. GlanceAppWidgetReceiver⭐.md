> [!TIP] ğŸ—£ï¸ í•µì‹¬ë‚´ìš©
Androidì˜ `AppWidgetProvider`ë¥¼ í™•ì¥í•œ í´ë˜ìŠ¤ë¡œ, ìœ„ì ¯ì˜ ì§„ì…ì  ì—­í• ì„ í•©ë‹ˆë‹¤.
>

## 1. GlanceAppWidgetReceiver ê°œìš”

```
ğŸ“± ì‹œìŠ¤í…œ (ëŸ°ì²˜/OS ì´ë²¤íŠ¸)
       â”‚
       â–¼
ğŸ“¡ GlanceAppWidgetReceiver
       â”‚  (GlanceAppWidget ì—°ê²°)
       â–¼
ğŸ§© MyGlanceWidget (GlanceAppWidget)
```

> [!NOTE] ğŸ’¬ ë°œí‘œ ì„¤ëª…
> "`GlanceAppWidgetReceiver`ëŠ” ìœ„ì ¯ì˜ **ì§„ì…ì **ì…ë‹ˆë‹¤. ì‹œìŠ¤í…œê³¼ ìš°ë¦¬ê°€ ì‘ì„±í•œ ìœ„ì ¯ ì½”ë“œë¥¼ ì—°ê²°í•˜ëŠ” ì¤‘ê°„ ë‹¤ë¦¬ ì—­í• ì„ í•©ë‹ˆë‹¤.
>
> ëŸ°ì²˜ì—ì„œ ìœ„ì ¯ì„ ì¶”ê°€í•˜ê±°ë‚˜, í¬ê¸°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜, ì—…ë°ì´íŠ¸ ì‹œê°„ì´ ë˜ë©´ ì‹œìŠ¤í…œì´ ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ Receiverê°€ ê·¸ê±¸ ë°›ì•„ì„œ ìš°ë¦¬ê°€ ì‘ì„±í•œ `GlanceAppWidget`ìœ¼ë¡œ ì „ë‹¬í•´ì£¼ëŠ” ê±°ì£ .
>
> ì „í†µ ìœ„ì ¯ì˜ `AppWidgetProvider`ì˜ ì—­í• ì„ GlanceAppWidgetì´ í•˜ëŠ” ê²ƒ ì´ë¼ê³  ì´í•´í•˜ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.
### 1.1 í•µì‹¬ ì—­í• 
- `AppWidgetProvider`ë¥¼ ëŒ€ì²´í•˜ëŠ” **Glance ì „ìš© ë¦¬ì‹œë²„**
- ì‹œìŠ¤í…œ ë¸Œë¡œë“œìºìŠ¤íŠ¸(`APPWIDGET_UPDATE` ë“±) ìˆ˜ì‹ 
- ë°˜ë“œì‹œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì— receiver ë“±ë¡ í•„ìš”
- `glanceAppWidget` í”„ë¡œí¼í‹°ë¡œ **ì—°ê²° ëŒ€ìƒ ìœ„ì ¯ ì§€ì •
- ë‚´ë¶€ì ìœ¼ë¡œ `GlanceAppWidget.provideGlance()` ì‹¤í–‰

---

## 2. ê¸°ë³¸ êµ¬í˜„

```kotlin
class MyWidgetReceiver : GlanceAppWidgetReceiver() {
    // í•„ìˆ˜: ì—°ê²°í•  GlanceAppWidget ì§€ì •
    override val glanceAppWidget: GlanceAppWidget = MyWidget()
}
```

```xml
<!-- AndroidManifest.xml -->
<receiver
    android:name=".MyWidgetReceiver"
    android:exported="true">
    <intent-filter>
        <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
    </intent-filter>
    <meta-data
        android:name="android.appwidget.provider"
        android:resource="@xml/my_widget_info" />
</receiver>
```

---

## 2.1 AppWidgetProviderInfo ì„¤ì •

Manifestì˜ `meta-data`ì—ì„œ ì°¸ì¡°í•˜ëŠ” ìœ„ì ¯ ì„¤ì • XML íŒŒì¼ì…ë‹ˆë‹¤. ì‹œìŠ¤í…œì´ ì´ íŒŒì¼ì„ ì½ì–´ ìœ„ì ¯ì˜ í¬ê¸°, ì—…ë°ì´íŠ¸ ì£¼ê¸°, ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ë“±ì„ íŒŒì•…í•©ë‹ˆë‹¤.

### 2.1.1 í•„ìˆ˜ ì†ì„±

```xml
<!-- res/xml/my_widget_info.xml -->
<appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    android:initialLayout="@layout/widget_placeholder"
    android:minWidth="180dp"
    android:minHeight="110dp"
    android:resizeMode="horizontal|vertical"
    android:widgetCategory="home_screen" />
```

| ì†ì„± | ì„¤ëª… | í•„ìˆ˜ ì—¬ë¶€ |
|------|------|----------|
| `initialLayout` | ìœ„ì ¯ ë¡œë”© ì¤‘ ì„ì‹œë¡œ í‘œì‹œë  í”Œë ˆì´ìŠ¤í™€ë” ë ˆì´ì•„ì›ƒ | âœ… í•„ìˆ˜ |
| `minWidth` | ìœ„ì ¯ ìµœì†Œ ê°€ë¡œ í¬ê¸° (dp) | âœ… í•„ìˆ˜ |
| `minHeight` | ìœ„ì ¯ ìµœì†Œ ì„¸ë¡œ í¬ê¸° (dp) | âœ… í•„ìˆ˜ |
| `resizeMode` | ë¦¬ì‚¬ì´ì¦ˆ ë°©í–¥ (`horizontal`, `vertical`, `horizontal\|vertical`, `none`) | ê¶Œì¥ |
| `widgetCategory` | ìœ„ì ¯ í‘œì‹œ ìœ„ì¹˜ (`home_screen`, `keyguard`, `searchbox`) | ê¶Œì¥ |

> [!IMPORTANT]
> **`initialLayout`ì€ ì ˆëŒ€ í•„ìˆ˜**ì…ë‹ˆë‹¤. ì´ ë¦¬ì†ŒìŠ¤ê°€ ì—†ìœ¼ë©´ ìœ„ì ¯ì´ ìœ„ì ¯ ì„ íƒ í™”ë©´ì— ì•„ì˜ˆ ë‚˜íƒ€ë‚˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 2.1.2 initialLayout í”Œë ˆì´ìŠ¤í™€ë”

ìœ„ì ¯ ì¶”ê°€ ì‹œ Glanceê°€ ì‹¤ì œ UIë¥¼ ë Œë”ë§í•˜ê¸° ì „ê¹Œì§€ **ëª‡ ë°€ë¦¬ì´ˆ~1ì´ˆ ì •ë„** ì„ì‹œë¡œ ë³´ì—¬ì¤„ ë ˆì´ì•„ì›ƒì…ë‹ˆë‹¤.

```xml
<!-- res/layout/widget_placeholder.xml -->
<TextView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:text="Loading..."
    android:gravity="center"
    android:textColor="#666666"
    android:background="#FFFFFF" />
```

> [!NOTE] ğŸ’¬ ë°œí‘œ ì„¤ëª…
> "`initialLayout`ì€ **í”Œë ˆì´ìŠ¤í™€ë”**ì…ë‹ˆë‹¤. ìœ„ì ¯ì´ ì¶”ê°€ë˜ëŠ” ìˆœê°„ ì‹œìŠ¤í…œì´ ì¦‰ì‹œ ë³´ì—¬ì£¼ëŠ” ì„ì‹œ ë ˆì´ì•„ì›ƒì´ì£ .
>
> Glanceê°€ `provideGlance()`ë¥¼ ì‹¤í–‰í•´ì„œ ì‹¤ì œ UIë¥¼ ë§Œë“¤ê¸° ì „ê¹Œì§€ ì ê¹ ë³´ì´ëŠ” í™”ë©´ì…ë‹ˆë‹¤. 'Loading...' ê°™ì€ ë‹¨ìˆœí•œ í…ìŠ¤íŠ¸ë‚˜ ë¡œê³  ì •ë„ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤.
>
> **ì¤‘ìš”í•œ ì **: ì´ ë¦¬ì†ŒìŠ¤ íŒŒì¼ì´ ì‹¤ì œë¡œ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ì—†ìœ¼ë©´ ìœ„ì ¯ ì„ íƒ í™”ë©´ì— ì•„ì˜ˆ ì•ˆ ëœ° ìˆ˜ ìˆì–´ìš”. XML íŒŒì¼ í•˜ë‚˜ ë§Œë“¤ê³ , ê°„ë‹¨í•œ TextView í•˜ë‚˜ ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤."

**í”Œë ˆì´ìŠ¤í™€ë” ì‘ì„± íŒ**:
- âœ… **ë°˜ë“œì‹œ ìƒì„±**: XML ë ˆì´ì•„ì›ƒ íŒŒì¼ì´ ì‹¤ì œë¡œ ì¡´ì¬í•´ì•¼ í•¨
- âœ… **ë‹¨ìˆœí•˜ê²Œ**: TextView í•˜ë‚˜ ì •ë„ë¡œ ì¶©ë¶„
- âœ… **ë¹ ë¥¸ ë¡œë”©**: ë¬´ê±°ìš´ ë ˆì´ì•„ì›ƒ í”¼í•˜ê¸°
- âš ï¸ **ë¯¸ë…¸ì¶œ ìœ„í—˜**: ì—†ìœ¼ë©´ ìœ„ì ¯ ëª©ë¡ì— ì•ˆ ëœ° ìˆ˜ ìˆìŒ

---

### 2.1.3 í¬ê¸° ê´€ë ¨ ì†ì„±

```xml
<appwidget-provider
    android:minWidth="180dp"
    android:minHeight="110dp"
    android:minResizeWidth="110dp"
    android:minResizeHeight="40dp"
    android:maxResizeWidth="320dp"
    android:maxResizeHeight="400dp"
    android:targetCellWidth="3"
    android:targetCellHeight="2" />
```

| ì†ì„± | ì„¤ëª… | ì‚¬ìš© ì‹œì  |
|------|------|----------|
| `minResizeWidth` | ì‚¬ìš©ìê°€ ë¦¬ì‚¬ì´ì¦ˆ ê°€ëŠ¥í•œ ìµœì†Œ ê°€ë¡œ í¬ê¸° | `resizeMode` í¬í•¨ ì‹œ |
| `minResizeHeight` | ì‚¬ìš©ìê°€ ë¦¬ì‚¬ì´ì¦ˆ ê°€ëŠ¥í•œ ìµœì†Œ ì„¸ë¡œ í¬ê¸° | `resizeMode` í¬í•¨ ì‹œ |
| `maxResizeWidth` | ë¦¬ì‚¬ì´ì¦ˆ ê°€ëŠ¥í•œ ìµœëŒ€ ê°€ë¡œ í¬ê¸° (API 31+) | ìµœëŒ€ í¬ê¸° ì œí•œ í•„ìš” ì‹œ |
| `maxResizeHeight` | ë¦¬ì‚¬ì´ì¦ˆ ê°€ëŠ¥í•œ ìµœëŒ€ ì„¸ë¡œ í¬ê¸° (API 31+) | ìµœëŒ€ í¬ê¸° ì œí•œ í•„ìš” ì‹œ |
| `targetCellWidth` | ê¶Œì¥ ê°€ë¡œ ì…€ ìˆ˜ (API 31+) | ê·¸ë¦¬ë“œ ê¸°ë°˜ ë ˆì´ì•„ì›ƒ |
| `targetCellHeight` | ê¶Œì¥ ì„¸ë¡œ ì…€ ìˆ˜ (API 31+) | ê·¸ë¦¬ë“œ ê¸°ë°˜ ë ˆì´ì•„ì›ƒ |

> [!TIP]
> **SizeModeì™€ì˜ ê´€ê³„**: XMLì—ì„œ ì •ì˜í•œ í¬ê¸°ëŠ” **ì‹œìŠ¤í…œì´ ìœ„ì ¯ì„ ë°°ì¹˜í•  ë•Œ** ì‚¬ìš©í•˜ëŠ” íŒíŠ¸ì…ë‹ˆë‹¤. ì‹¤ì œ UIëŠ” `GlanceAppWidget`ì˜ `sizeMode`ë¡œ ëŒ€ì‘í•©ë‹ˆë‹¤.
>
> ìì„¸í•œ ë‚´ìš©: **[8. SizeModeâ­](8.%20SizeModeâ­.md)**

---

### 2.1.4 ì—…ë°ì´íŠ¸ ì£¼ê¸°

```xml
<appwidget-provider
    android:updatePeriodMillis="1800000" />
```

| ì†ì„± | ì„¤ëª… | ê¸°ë³¸ê°’ |
|------|------|--------|
| `updatePeriodMillis` | ì‹œìŠ¤í…œ ìë™ ì—…ë°ì´íŠ¸ ì£¼ê¸° (ë°€ë¦¬ì´ˆ) | 0 (ì—…ë°ì´íŠ¸ ì—†ìŒ) |

> [!WARNING]
> **ì œì•½ì‚¬í•­**:
> - ìµœì†Œê°’: `1800000` (30ë¶„) - ë” ì§§ê²Œ ì„¤ì •í•´ë„ ì‹œìŠ¤í…œì´ 30ë¶„ìœ¼ë¡œ ì¡°ì •
> - ë°°í„°ë¦¬ ì ˆì•½ ëª¨ë“œì—ì„œëŠ” ë¬´ì‹œë  ìˆ˜ ìˆìŒ
> - **ê¶Œì¥**: WorkManagerë¡œ ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ êµ¬í˜„ (ë” ìœ ì—°í•¨)

---

### 2.1.5 UI ë¯¸ë¦¬ë³´ê¸°

```xml
<appwidget-provider
    android:previewImage="@drawable/widget_preview"
    android:previewLayout="@layout/widget_preview_layout"
    android:description="@string/widget_description" />
```

| ì†ì„± | ì„¤ëª… | API ë ˆë²¨ |
|------|------|----------|
| `previewImage` | ìœ„ì ¯ ì„ íƒ í™”ë©´ì— í‘œì‹œë  ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ | API 11+ |
| `previewLayout` | ë™ì  ë¯¸ë¦¬ë³´ê¸° ë ˆì´ì•„ì›ƒ (ì‹¤ì œ ìœ„ì ¯ì²˜ëŸ¼ í‘œì‹œ) | API 31+ |
| `description` | ìœ„ì ¯ ì„¤ëª… (ì ‘ê·¼ì„±) | API 12+ |

> [!NOTE]
> **descriptionì€ ë°˜ë“œì‹œ string ë¦¬ì†ŒìŠ¤**ë¡œ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì§ì ‘ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ë©´ ë¹Œë“œ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.
> ```xml
> <!-- âŒ ì˜ëª»ëœ ì˜ˆ -->
> android:description="ë‚ ì”¨ ìœ„ì ¯"
>
> <!-- âœ… ì˜¬ë°”ë¥¸ ì˜ˆ -->
> android:description="@string/weather_widget_description"
> ```

---

### 2.1.6 ìœ„ì ¯ ì¹´í…Œê³ ë¦¬ & ê¸°ëŠ¥

```xml
<appwidget-provider
    android:widgetCategory="home_screen|keyguard"
    android:widgetFeatures="reconfigurable|configuration_optional" />
```

**widgetCategory**:
- `home_screen`: í™ˆ í™”ë©´ (ê¸°ë³¸ê°’)
- `keyguard`: ì ê¸ˆ í™”ë©´ (API 17+, Android 5.0ë¶€í„° deprecated)
- `searchbox`: ê²€ìƒ‰ ìœ„ì ¯ (íŠ¹ìˆ˜ ìš©ë„)

**widgetFeatures** (API 21+):
- `reconfigurable`: ìœ„ì ¯ ì¶”ê°€ í›„ ì¬ì„¤ì • ê°€ëŠ¥
- `configuration_optional`: ì„¤ì • í™”ë©´ ì„ íƒì  í‘œì‹œ

---

### 2.1.7 ì„¤ì • í™”ë©´ (ì„ íƒ)

```xml
<appwidget-provider
    android:configure="com.example.MyWidgetConfigActivity" />
```

ìœ„ì ¯ ì¶”ê°€ ì‹œ **ì„¤ì • í™”ë©´**ì„ ë¨¼ì € ë³´ì—¬ì¤ë‹ˆë‹¤. Activityë¥¼ ì§€ì •í•˜ë©´ ìœ„ì ¯ ì¶”ê°€ ì „ ì‚¬ìš©ì ì„¤ì •ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 2.1.8 ì „ì²´ ì˜ˆì‹œ

```xml
<!-- res/xml/weather_widget_info.xml -->
<appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    android:initialLayout="@layout/widget_placeholder"
    android:minWidth="180dp"
    android:minHeight="110dp"
    android:minResizeWidth="110dp"
    android:minResizeHeight="40dp"
    android:maxResizeWidth="320dp"
    android:maxResizeHeight="400dp"
    android:resizeMode="horizontal|vertical"
    android:updatePeriodMillis="1800000"
    android:previewImage="@drawable/weather_widget_preview"
    android:previewLayout="@layout/weather_widget_preview_layout"
    android:description="@string/weather_widget_description"
    android:widgetCategory="home_screen"
    android:widgetFeatures="reconfigurable|configuration_optional" />
```

**[ìŠ¤í¬ë¦°ìƒ· ì¶”ì²œ]** ìœ„ì ¯ ì„ íƒ í™”ë©´ì—ì„œ previewImageê°€ í‘œì‹œë˜ëŠ” ëª¨ìŠµ

---

## 3. ìƒëª…ì£¼ê¸° ì½œë°± (ì„ íƒì  ì˜¤ë²„ë¼ì´ë“œ)

`GlanceAppWidgetReceiver`ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒëª…ì£¼ê¸° ì½œë°±ì„ ì œê³µí•©ë‹ˆë‹¤:

- **`onEnabled()`**: ì²« ë²ˆì§¸ ìœ„ì ¯ ì¶”ê°€ ì‹œ
- **`onUpdate()`**: ìœ„ì ¯ ì—…ë°ì´íŠ¸ í•„ìš” ì‹œ
- **`onDeleted()`**: ìœ„ì ¯ ì‚­ì œ ì‹œ
- **`onDisabled()`**: ë§ˆì§€ë§‰ ìœ„ì ¯ ì œê±° ì‹œ

> [!NOTE] ğŸ’¬ ë°œí‘œ ì„¤ëª…
> "ìƒëª…ì£¼ê¸° ì½œë°±ì€ ì„ íƒì ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> - **onEnabled**: ì‚¬ìš©ìê°€ **ì²« ë²ˆì§¸ ìœ„ì ¯**ì„ í™ˆ í™”ë©´ì— ì¶”ê°€í•  ë•Œ ë”± í•œ ë²ˆ í˜¸ì¶œë©ë‹ˆë‹¤. WorkManagerë¡œ ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ë¥¼ ì‹œì‘í•˜ëŠ” ìš©ë„ë¡œ ë§ì´ ì”ë‹ˆë‹¤.
>
> - **onUpdate**: ìœ„ì ¯ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ í˜¸ì¶œë©ë‹ˆë‹¤. í•˜ì§€ë§Œ Glanceì—ì„œëŠ” ì´ê±¸ ì§ì ‘ ì˜¤ë²„ë¼ì´ë“œí•  í•„ìš”ê°€ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤. Glanceê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ê±°ë“ ìš”.
>
> - **onDeleted**: íŠ¹ì • ìœ„ì ¯ ì¸ìŠ¤í„´ìŠ¤ê°€ ì‚­ì œë  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤. í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒíƒœ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ëŠ” ìš©ë„ì…ë‹ˆë‹¤.
>
> - **onDisabled**: **ë§ˆì§€ë§‰ ë‚¨ì€ ìœ„ì ¯**ì´ ì œê±°ë  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤. ì—¬ê¸°ì„œ WorkManagerë¥¼ ì¤‘ì§€í•˜ê±°ë‚˜ ì „ì—­ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤."

**ìì„¸í•œ ìƒëª…ì£¼ê¸° ì„¤ëª…ê³¼ ì˜ˆì œëŠ” â†’ [5. Glance ìƒëª…ì£¼ê¸° & ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°â­](5.%20Glance%20ìƒëª…ì£¼ê¸°%20&%20ì—…ë°ì´íŠ¸%20íŠ¸ë¦¬ê±°â­.md)** ì°¸ê³ 

---

## 4. ìë™ vs ìˆ˜ë™ ì—…ë°ì´íŠ¸

### 4.1 ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²½ìš°

`GlanceAppWidgetReceiver`ëŠ” ì‹œìŠ¤í…œ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ ìë™ìœ¼ë¡œ `provideGlance()`ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤:

- âœ… ìœ„ì ¯ ì¶”ê°€ (onEnabled)
- âœ… ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ì‹œê°„ ë„ë˜ (onUpdate)
- âœ… ìœ„ì ¯ í¬ê¸° ë³€ê²½
- âœ… ìœ„ì ¯ ì‚­ì œ (onDeleted)

> [!NOTE] ğŸ’¬ ë°œí‘œ ì„¤ëª…
> "ì¤‘ìš”í•œ ì ì€ **ì‹œìŠ¤í…œ ì´ë²¤íŠ¸ëŠ” ìë™**ì´ì§€ë§Œ, **ì•± ë¡œì§ì— ì˜í•œ ì—…ë°ì´íŠ¸ëŠ” ìˆ˜ë™**ì´ë¼ëŠ” ê²ë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ìê°€ ìœ„ì ¯ í¬ê¸°ë¥¼ ì¡°ì ˆí•˜ë©´ ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ `provideGlance()`ë¥¼ í˜¸ì¶œí•´ì„œ ìƒˆ í¬ê¸°ì— ë§ëŠ” UIë¥¼ ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤. ì´ê±´ ìš°ë¦¬ê°€ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ì–´ìš”.
>
> í•˜ì§€ë§Œ ì•±ì—ì„œ 'ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë°›ì•˜ìœ¼ë‹ˆ ìœ„ì ¯ì„ ê°±ì‹ í•´ì•¼ì§€'ë¼ê³  íŒë‹¨í•˜ëŠ” ê±´ ì‹œìŠ¤í…œì´ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŸ´ ë•ŒëŠ” ëª…ì‹œì ìœ¼ë¡œ `update()`ë¥¼ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤."

### 4.2 ìˆ˜ë™ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ê²½ìš°

**ì•± ë¡œì§ì— ì˜í•œ ë°ì´í„° ë³€ê²½**ì€ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤:

- âœ… WorkManager ì‘ì—… ì™„ë£Œ í›„ ë°ì´í„° ê°±ì‹ 
- âœ… ì™¸ë¶€ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìˆ˜ì‹  (ì•ŒëŒ, ë°°í„°ë¦¬ ìƒíƒœ ë³€ê²½ ë“±)
- âœ… ì•± ë‚´ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- âœ… ë„¤íŠ¸ì›Œí¬ API ì‘ë‹µ ìˆ˜ì‹ 
- âœ… ì‚¬ìš©ìê°€ ì•±ì—ì„œ ì„¤ì • ë³€ê²½

```kotlin
// ì˜ˆ: WorkManagerì—ì„œ ë°ì´í„° ë¡œë“œ í›„
class DataSyncWorker(context: Context, params: WorkerParameters) : CoroutineWorker(context, params) {
    override suspend fun doWork(): Result {
        // 1. ë°ì´í„° ë¡œë“œ
        val newData = fetchDataFromServer()

        // 2. ìƒíƒœ ì €ì¥
        updateAppWidgetState(context, GlanceId(...)) { prefs ->
            prefs[dataKey] = newData
        }

        // 3. ìˆ˜ë™ìœ¼ë¡œ UI ê°±ì‹  ìš”ì²­ (í•„ìˆ˜!)
        MyWidget().updateAll(context)

        return Result.success()
    }
}
```

**ìì„¸í•œ ìˆ˜ë™ ì—…ë°ì´íŠ¸ ë°©ë²• ë° ì˜ˆì œëŠ” â†’ [5. Glance ìƒëª…ì£¼ê¸° & ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°â­](5.%20Glance%20ìƒëª…ì£¼ê¸°%20&%20ì—…ë°ì´íŠ¸%20íŠ¸ë¦¬ê±°â­.md)** ì°¸ê³ 

---

## 5. ì „í†µì ì¸ ë°©ì‹ê³¼ì˜ ë¹„êµ

### 4.1 ì§„ì…ì  ë°©ì‹ ì°¨ì´

**ì „í†µ ìœ„ì ¯ (AppWidgetProvider)**
```kotlin
class TraditionalWidget : AppWidgetProvider() {
    override fun onUpdate(
        context: Context,
        appWidgetManager: AppWidgetManager,
        appWidgetIds: IntArray
    ) {
        // ì§ì ‘ RemoteViews ìƒì„±
        appWidgetIds.forEach { appWidgetId ->
            val views = RemoteViews(context.packageName, R.layout.widget_layout)

            // í…ìŠ¤íŠ¸ ì„¤ì •
            views.setTextViewText(R.id.widget_text, "Hello Widget")

            // í´ë¦­ ì´ë²¤íŠ¸ ì„¤ì •
            val intent = Intent(context, MainActivity::class.java)
            val pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT)
            views.setOnClickPendingIntent(R.id.widget_button, pendingIntent)

            // ì—…ë°ì´íŠ¸ ì ìš©
            appWidgetManager.updateAppWidget(appWidgetId, views)
        }
    }
}
```

**Glance ìœ„ì ¯**
```kotlin
class ModernWidgetReceiver : GlanceAppWidgetReceiver() {
    // ë‹¨ìˆœíˆ ìœ„ì ¯ ì—°ê²°ë§Œ ì§€ì •
    override val glanceAppWidget: GlanceAppWidget = ModernWidget()
}

class ModernWidget : GlanceAppWidget() {
    override suspend fun provideGlance(context: Context, id: GlanceId) {
        provideContent {
            // Compose ìŠ¤íƒ€ì¼ UI
            Column {
                Text("Hello Widget")
                Button("Click", onClick = actionStartActivity<MainActivity>())
            }
        }
    }
}
```

### 4.2 ë¹„êµ í‘œ

| **êµ¬ë¶„**      | **ì „í†µ ìœ„ì ¯**                    | **Glance ìœ„ì ¯**                        |
| ----------- | ---------------------------- | ------------------------------------ |
| **í´ë˜ìŠ¤**     | `AppWidgetProvider`          | `GlanceAppWidgetReceiver`            |
| **UI ì‘ì„±**   | XML + `RemoteViews` ìˆ˜ë™ ì¡°ì‘    | Compose DSL (ìë™ `RemoteViews` ë³€í™˜)    |
| **UI ì—…ë°ì´íŠ¸** | `updateAppWidget()` ì§ì ‘ í˜¸ì¶œ    | `update()` / `updateAll()`           |
| **ìƒíƒœ ê´€ë¦¬**   | `SharedPreferences`/DB ì§ì ‘ êµ¬í˜„ | DataStore ê¸°ë°˜ `StateDefinition` ê¸°ë³¸ ì œê³µ |
| **ê°œë°œ ê²½í—˜**   | ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ë§ìŒ                   | ê°„ê²°, Compose ì¹œí™”ì                       |
| **ì§„ì…ì **     | `onUpdate()` ë©”ì„œë“œ             | `glanceAppWidget` í”„ë¡œí¼í‹°               |
| **ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬** | `appWidgetIds` ë°°ì—´ë¡œ ì§ì ‘ ë°˜ë³µ     | `GlanceId` ìë™ ê´€ë¦¬                     |

---

## 6. ì£¼ì˜ì‚¬í•­

### 6.1 `super` í˜¸ì¶œ í•„ìˆ˜
ëª¨ë“  ìƒëª…ì£¼ê¸° ì½œë°±ì—ì„œ `super` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. Glanceì˜ ë‚´ë¶€ ë¡œì§ì´ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```kotlin
// âŒ ì˜ëª»ëœ ì˜ˆ
override fun onUpdate(
    context: Context,
    appWidgetManager: AppWidgetManager,
    appWidgetIds: IntArray
) {
    // super í˜¸ì¶œ ì—†ìŒ â†’ ìœ„ì ¯ì´ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ!
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
override fun onUpdate(
    context: Context,
    appWidgetManager: AppWidgetManager,
    appWidgetIds: IntArray
) {
     // ì¶”ê°€ ë¡œì§...
    super.onUpdate(context, appWidgetManager, appWidgetIds)
}
```

### 6.2 `onUpdate()` ì§ì ‘ êµ¬í˜„ ì§€ì–‘
ì¼ë°˜ì ìœ¼ë¡œ `onUpdate()`ë¥¼ ì§ì ‘ ì˜¤ë²„ë¼ì´ë“œí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. `GlanceAppWidgetReceiver`ê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

---